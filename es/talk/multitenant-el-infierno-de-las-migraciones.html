

<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>PyConES 2018 - Málaga</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="../static/web/png/favicon.png">

    
        <link rel="stylesheet" href="../static/cache/css/96eb85aa2a5f.css" type="text/css" />
        
    
    <link href="https://fonts.googleapis.com/css?family=Inconsolata:400,700|Montserrat:400,700" rel="stylesheet">
</head>
<body>
<!--[if lt IE 11]>
      <p class='browse-happy'>You are using an <strong>outdated</strong> browser. Please <a href='http://browsehappy.com/'>upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

<div id="menu" class="nav js-nav is-hidden-mobile">
    <a href="../index.html"><img class="nav__logo" src="../static/web/svg/logo.svg"></a><br>
    <div class="nav__event-date text--black-console"><5-7/OCT/2018> Málaga</div>
    <div class="nav__title text--console">Connecting the Python Community</div>
    <div class="nav__subtitle text--console">6ª Edición</div>
    <div class="nav__menu">
        <p>
            Bienvenidos a la
            <a class="link--mustache" href="../index.html">PyConES</a>,
            la conferencia nacional sobre Python más importante de España. Un evento de tres días que reunirá a los
            <a class="link--mustache js-nav-link" href="../index.html#speakers">ponentes</a>
            más interesantes, una
            <a class="link--mustache js-nav-link" href="../index.html#schedule">agenda</a>
             increíble y unas oportunidades de 
            <a class="link--mustache js-nav-link" href="../index.html#jobs">trabajo</a>
             maravillosas.
        </p>
        <p>
             
            <a class="link--mustache js-nav-link" href="../index.html#about-us">Organizado</a>
             y 
            <a class="link--mustache js-nav-link" href="../index.html#sponsors">patrocinado</a>
             con cariño en 
            <a class="link--mustache js-nav-link" href="../index.html#venue">Málaga</a>.
        </p>
        <p>
            ¡Por favor, leed nuestro <a class="link--mustache js-nav-link" href="../coc.html#coc">código de conducta</a>!
        </p>
    </div>
    <div class="nav__menu nav__menu--only-links">
        <p>
            <a class="link--mustache" href="../index.html">PyConES</a>
            <a class="link--mustache js-nav-link" href="../index.html#speakers">Ponentes</a>
            <a class="link--mustache js-nav-link" href="../index.html#schedule">Agenda</a>
            <a class="link--mustache js-nav-link" href="../index.html#sponsors">Patrocinios</a>
            <a class="link--mustache js-nav-link" href="../index.html#venue">Málaga</a>
            <a class="link--mustache js-nav-link" href="../index.html#jobs">Trabajos</a>
            <a class="link--mustache js-nav-link" href="../index.html#about-us">Organizacion</a>
            <a class="link--mustache js-nav-link" href="../coc.html#coc">Código de conducta</a>
        </p>
    </div>
    <div class="nav__tickets">




        <div class="link--button tickets-button tickets-out-button">
            All tickets sold out!
        </div>
        <p>
            
            Mantente al día suscribiéndote a la newsletter. Sin spam, solo te enviaremos información importante sobre el evento
          
        </p>
        <div class="nav__tickets__email js-email-widget">
            <input class="js-email-success-message" type="hidden" name="success-message" value="¡Lo tenemos!">
            <input class="nav__tickets__email__input js-email-input"
                   placeholder="Escribe tu email">
            <span class="nav__tickets__email__button">
            <button class="js-email-send-btn">
              <img src="../static/web/svg/send.svg" alt="send">
            </button>
          </span>
        </div>
    </div>

    <div class="nav__language">
        <a href="multitenant-el-infierno-de-las-migraciones.html#">en</a> -
        <a href="multitenant-el-infierno-de-las-migraciones.html#">es</a>
        <form class="form__language" action="https://2018.es.pycon.org/i18n/setlang/" method="post"><input type='hidden' name='csrfmiddlewaretoken' value='LFLXBiZSZczrcUcLf6ltMdLuIDAWIrTbRMEyH4h94QKTO2u5Jt6llZlFtzVrW6jK' />
            <input name="next" type="hidden" value=""/>
            
            <input class="form__language__input" name="language" type="hidden" value="es"/>
        </form>
    </div>

    <div class="nav__social">
        <a href="https://twitter.com/pycones">
            <img src="../static/web/svg/twitter.svg"> @PyConES
        </a>
        <a href="mailto:contact2018@es.pycon.org">contact2018@es.pycon.org</a>
    </div>
</div>

<div class="main js-main">
    
    <div class="section details talk-details section--bg-talk-detail">
        <div class="section__content">
            <a class="details__back" href="../index.html#schedule">
                
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                    <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
                </svg>
                Agenda
            </a>
            <div class="details__content">
                <div class="talk-details__row talk-details__row-attrs">
                    <div class="talk-details__speakers">
                        <p>Xavier Gil Estarellas</p>
                    </div>
                    <div class="talk-details__attributes">
                        <p>
                            Web
                            
                                / ES
                            
                        </p>
                        <p>PSF</p>
                        <p>06 Octubre 2018, 15:00 - 15:25</p>
                    </div>
                </div>
                <h1 class="talk-details__title">Multitenant, el infierno de las migraciones.</h1>
                <div class="talk-details__description">
                    
                    
                        <p><p>En txerpa.com llevamos alrededor de 4 años usando django tenants schemas para ofrecer un producto multitenant. Hace algo menos de dos años nos encontramos con un problema grave, las migraciones tardaban mucho más de lo que era aceptable para nosotros, estábamos afrontando un cambio importante en la estructura de datos y teníamos más de 3000 schemas en los que aplicar los cambios.</p>
<p>Entonces decidimos aportar nuestro granito de arena al proyecto y adaptamos la gestión de migraciones para que se pueda hacerse en paralelo. Este cambio nos permitió reducir el tiempo de las migraciones a menos de una tercera parte. No obstante el procesos sigue siendo demasiado lento para ciertas migraciones y sobretodo obliga a parar el servicio entero mientras se están realizando y en estos momentos estamos desarrollando una nueva mejora para la gestión de las migraciones, que permita usar celery en lugar de hilos, permitiendo un mayor nivel de concurrencia y mayor control a la hora de realizar migraciones.</p>
<p>Mi propuesta es hablar de como gestionar el proceso de migraciones cuando tenemos que trabajar con miles de esquemas en Django tenant esquemas, a partir de nuestra experiencia y de las soluciones que hemos implantado.</p></p>
                        
                        
                        
                        
                    
                    
                    
                    
                    
                    
                    
                    
                </div>
            </div>
        </div>
    </div>

</div>


    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script type="text/javascript" src="../static/cache/js/963fa801ce73.js"></script>
    

</body>
</html>
